(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[94451],{570469:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(683402),r=n(704115),s=n(115535),a=n(927955),i=n(966113),c=n(743413),u=n(867820),_=n(665219),l=n(330102),p=n(297507),g=n(3223);const d=({i18n:e,logContextEvent:t,requestContext:n})=>d=>{const{country:m,countryFromHostName:h,countryFromIp:b,facebookToken:f,inviteCode:y,locale:v,origin:k,referrerFromCookie:w,regionFromIp:N,unauthId:S,userAgent:{platform:Z}}=n,C={logContextEventType:e=>{t({event_type:e})},sendActiveUserPing:s.Z,registerUserContext:{facebookToken:f,inviteCode:y,locale:v,referrer:w,unauthId:S},onCorsHandshakeHost:i.Z.settings.CORS_HANDSHAKE_DOMAINS.includes(k),successWithoutTokenErrorMessage:e._('We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue.', ' - ', ' -- '),trackRegisterSuccess:()=>{(0,u.My)(`signup_referrer_module.${String((0,r.Z)().referrer||function(){const e=a.Z.instance.getState().ui.mainComponent.initial;return e?(0,o.Z)(e):null}())}`),"ios"===Z?(0,u.My)("signup_mweb.iphone_web"):"ipad"===Z?(0,u.My)("signup_mweb.ipad_web"):"android"===Z&&(0,u.My)("signup_mweb.android_web")}};return(0,g.c_)({country:m,countryFromHostName:h,countryFromIp:b})&&(0,p.yP)({id:c.Y7,eventCategory:"NewUsers",eventName:"Desktop"}),(0,g.$r)({country:m,countryFromHostName:h,countryFromIp:b,regionFromIp:N})&&(0,p.jw)({id:"flashtalking-d-reg",eventCategory:"NewUsers",eventName:"Desktop"}),(0,g.NR)(m,N)&&(0,p.EN)({pixelId:l.NS,eventCategory:"NewUsers",eventName:"Desktop"}),(0,g.Fc)({country:m,countryFromHostName:h,countryFromIp:b})&&(0,p.Be)({pixelId:l.Ks,eventCategory:"NewUsers",eventName:"Desktop"}),(0,_.Z)(d,C)}},202139:(e,t,n)=>{n.d(t,{DH:()=>o,F4:()=>a,FS:()=>r,N1:()=>_,N9:()=>c,UK:()=>s,VL:()=>i,v6:()=>u});const o=1e3,r=60*o,s=60*r,a=24*s,i=7*a,c=30*a,u=31*a,_=365*a},665219:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(231486),r=n(6637),s=n(704177),a=n(45169),i=n(81759),c=n(826067),u=n(957161),_=n(487116),l=n(584595),p=n(995146),g=n(867820),d=n(226198);let m=0;const h=(e,t)=>{var n,b,f;const y={...e},{onCorsHandshakeHost:v,registerUserContext:k,sendActiveUserPing:w,successWithoutTokenErrorMessage:N}=t,S=(0,i.t_)(),Z=null!==(n=null===(b=window)||void 0===b||null===(f=b.location)||void 0===f?void 0:f.search)&&void 0!==n?n:null,C=(0,c.mB)(Z).utm_campaign;S&&(y.visited_pages=S),C&&(y.utm_campaign=C);const E=s.ZP.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(S)y.visited_pages=S;else if(E){const e=[];for(const t of E)t.is_shared_pin&&e.push({ts:t.ts,path:t.path,first_pin_image_signature:t.image_signature,is_shared:!0});e&&(y.visited_pages=JSON.stringify(e.concat(S||[])))}y.user_behavior_data=(()=>{const e={};return["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"].forEach((t=>{const n=s.ZP.localStorage.getItem(t);n&&(e[t]=n)})),JSON.stringify(e)})();const M=e=>((0,_.D)("signup"),o.zN(d.Mq.name),o.zN(d.x2.name),w(),o.t8(d.Xh,"1"),(0,u.L_)("_lastVisitedPages"),((e,{logContextEventType:t,trackRegisterSuccess:n})=>{let o;switch(e.container){case"home_page":o=1750,(0,g.My)("signup_home_page");break;case"mweb_homepage":o=1750,(0,g.My)("signup_mweb_home_page");break;case"plain_signup_modal":o=1751,(0,g.My)("signup_plain_modal");break;case"closeup_signup_modal":o=1752,(0,g.My)("signup_closeup_modal");break;case"widescreen_signup_modal":o=1753,(0,g.My)("signup_widescreen_modal");break;case"pinit_button_landing":o=1755,(0,g.My)("signup_pinit_button_landing");break;case"inspired_banner":(0,g.My)("signup_inspired_banner");break;case"category_jump_banner":(0,g.My)("signup_category_jump_banner");break;case"send_pin_banner":o=1756,(0,g.My)("send_pin_banner");break;default:o=1754,(0,g.My)("signup_unknown_placement")}const r=e.container||"container_unknown";(0,g.My)(`signup.container.${r}`);const s=e.signupSource||"signupSource_unknown";(0,g.My)(`signup.source.${s}`),o&&t(o);const i=document.referrer;let c;c=i?i.indexOf("/t.co/")>-1?"twitter":i.indexOf("google.")>-1?"google":i.indexOf("bing.")>-1?"bing":i.indexOf("facebook.")>-1?"facebook":"other":"direct",n(),(0,g.De)({action:"signup",event:"success",referrer:c,type:(0,a.Y)(e)})})(y,t),e),I=e=>{e.api_error_code===l.tz&&((0,g.My)("multi_step_set_age_restrict_cookie"),o.t8(d.It,"1",(0,o.kZ)(d.It)));if((!e.api_error_code||[l.dO,l.cZ].includes(e.api_error_code))&&m<3)return(0,g.My)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(y.container)}`),m+=1,h(y,t);throw(0,g.De)({action:"signup",event:"fail",type:(0,a.Y)(y)}),e};if(!y.facebook_id&&!y.gplus_code&&!y.gplus_id_token&&!y.google_open_id_token&&!y.line_id_token&&Boolean(y.email)&&v){(0,g.My)("unauth_cross_domain_register_debugging_counter");const e=e=>{(0,g.My)(`web_cross_domain_register.${e}.${(0,a.Y)(y)}`)};return e("attempt"),(0,p.a$)(y,k).then((t=>{M(t);const n=t.data||"";if(n)return e("success_with_token"),(0,p.kv)(n,!0).then((t=>{e("success_token_exchanged")}),(t=>{throw e("success_token_not_exchanged"),t}));throw e("success_without_token"),new Error(N)}),(t=>{e("failure"),I(t)}))}return r.Z.create("UserRegisterResource",y).callCreate().then((e=>M(e)),(e=>I(e)))},b=h},233211:(e,t,n)=>{n.d(t,{B$:()=>u,Cw:()=>a,I7:()=>c,c4:()=>i});var o=n(667294),r=n(425288);const s=(0,o.createContext)(null),a=()=>(0,o.useContext)(s),i=s.Provider,{Provider:c,useHook:u}=(0,r.Z)("DesktopCoreLogin")},524172:(e,t,n)=>{n.d(t,{M:()=>d,Z:()=>m});var o=n(667294),r=n(914772),s=n(366284),a=n(773285),i=n(50286),c=n(780280),u=n(425288),_=n(304930),l=n(83969),p=n(785893);const{Provider:g,useMaybeHook:d}=(0,u.Z)("GoogleSignInApi");function m({children:e}){const t=(()=>{const e=(0,i.HG)(),{checkExperiment:t}=(0,a.F)();return!(0,_.ZP)()||t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled})(),n=(()=>{const{userAgent:e}=(0,c.B)(),{browserName:t,platform:n}=e,o=null!=t?t:"";return(0,s.G6)(o)||"ios"===n})(),u=(0,_.j_)(),d=(0,_.Or)(),m=(0,o.useRef)("enabled_allow_duplicated_handlers"===u),h=(0,o.useRef)(null),b=(0,o.useRef)(new Set),f=(0,o.useRef)(new Set),y=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(t)b.current.clear(),f.current.clear();else{window.onGoogleLibraryLoad=()=>{(0,r.Z)({type:"loadScript",status:"success"});const e=(0,l.Fm)();(0,r.Z)({type:"apiClient",valid:!!e}),e&&(y.current=e,f.current.forEach((t=>t(e))),f.current.clear(),(0,l.OY)({autoSelect:!0,itpSupport:n},(e=>{if((0,r.Z)({type:"response",valid:!!e}),!e)return;const t=(0,l.PL)(e.select_by);var n;if(d("sdk_manager_received_response",t),m.current)return null===(n=h.current)||void 0===n||n.call(h,e),void b.current.forEach((t=>t(e)));if("SIGN_IN_WITH_GOOGLE_BUTTON"===t){const t=Array.from(b.current),n=t[t.length-1];n&&n(e)}else{var o;null===(o=h.current)||void 0===o||o.call(h,e)}})))};(async()=>{(0,r.Z)({type:"loadScript",status:"start"});try{await(0,l.Px)({unsafe:!0})}catch(e){}})()}}),[t,n,d]);const v=(0,o.useRef)({ensureInit:(e,t)=>("button"===e?b.current.add(t):h.current=t,new Promise((e=>{y.current?e(y.current):f.current.add(e)}))),removeCallback:e=>{b.current.delete(e)}});return(0,p.jsx)(g,{value:v.current,children:e})}},83969:(e,t,n)=>{n.d(t,{Fm:()=>a,OY:()=>c,PL:()=>_,Px:()=>i,ru:()=>u});var o=n(713930),r=n(966113),s=n(867820);const a=()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},i=e=>(0,o.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),c=({autoSelect:e,itpSupport:t},n)=>{var o;null===(o=a())||void 0===o||o.initialize({auto_select:null!=e&&e,client_id:r.Z.settings.GPLUS_CLIENT_ID,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:t})},u=({buttonRef:e,isDesktop:t})=>{const n=a();if(n&&e.current){const t=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else(0,s.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},_=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT"},45169:(e,t,n)=>{n.d(t,{E_:()=>c,NN:()=>a,Y:()=>s,du:()=>i});var o=n(966113),r=n(693099);const s=e=>e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.gplus_code||e.gplus_id_token?"google":e.line_id_token?"line":e.email?"email":"other",a=(e="")=>e in o.Z.settings.MINIMUM_AGE_BY_EU_COUNTRY,i=e=>r.rT.includes(e)||r.ZR.has(e)||a(e),c={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk"}},914772:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(701563),r=n(867820);const s=e=>(0,r.dy)({event:e,provider:"google"}),a=e=>(0,o.RP)("google_autologin",e),i=e=>(0,o.M3)("google_autologin",e),c=e=>{switch(e.type){case"loadScript":"start"===e.status?(s("start"),s("load_script_start"),i("autoLoginGoogleStart")):"success"===e.status?s("load_script_success"):s("load_script_failure");break;case"apiClient":e.valid?(s("initialize_library"),i("autoLoginGoogleInitEnd")):(a("noAccountFound"),s("global_object_not_found"));break;case"response":e.valid?s("receive_credential_response_from_provider"):a("noResponse");break;case"autologin":"start"===e.status?(s("pinterest_login_start"),(0,r.NC)("press_google_one_tap_other"),(0,o.M3)("google_autologin","autoLoginGoogleEnd"),(0,o.PA)("google_autologin")):"success"===e.status?(s("pinterest_login_success"),s("end")):(s("pinterest_login_failure"),s("end"));break;case"oneTapPromptLoginAttempt":(0,r.NC)("press_google_one_tap"),(0,o.PA)("google_autologin")}}},304930:(e,t,n)=>{n.d(t,{Or:()=>l,ZP:()=>p,j_:()=>_});var o=n(667294),r=n(466225),s=n(19121),a=n(867820),i=n(773285),c=n(50286);const u=()=>{const e=(0,c.HG)(),{isAuth:t}=(0,s.Z)();return t?e?"auth_dweb_auth_google_sign_in_safe_mode":"auth_mweb_auth_google_sign_in_safe_mode":e?"unauth_dweb_auth_google_sign_in_safe_mode":"unauth_mweb_auth_google_sign_in_safe_mode"},_=()=>{const{checkExperiment:e}=(0,i.F)();return e(u()).group},l=()=>{const{checkExperiment:e}=(0,i.F)(),t=u();return(0,o.useCallback)(((n,o)=>{const{group:r}=e(t,{dangerouslySkipActivation:!0});r&&(0,a.My)("pinner_conversion.gsi_safe_mode_exp",{expName:t,group:r,event:n,selectByType:null!=o?o:"none"})}),[t,e])},p=()=>(0,r.Z)(_())},466225:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>e.startsWith("enabled")||e.startsWith("employee")},701563:(e,t,n)=>{n.d(t,{M3:()=>m,PA:()=>h,RP:()=>d,gq:()=>p});var o=n(729524),r=n(991067),s=n(543059),a=n(358864),i=n(558775),c=n(985271),u=n(638089),_=n(790348);const l={},p=(e,t)=>{t.forEach((t=>{l[t]=(({name:e,pwtStaticContext:t})=>{if(!c.Z||!(0,r.Z)())return null;const n={type:"stopwatch",name:e},s=[];let _=!0;return{abort:e=>{_&&(_=!1,(0,i.Z)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{_&&s.push({label:e,timestamp:c.Z.now()})},stop:()=>{if(!_)return;_=!1;const e={type:"COMPLETE",traceId:(0,a.Z)(),startTime:0,endTime:c.Z.now(),spans:[],annotationMap:(0,o.Z)(s),binaryAnnotationMap:(0,u.ng)({metricId:n,pwtStaticContext:t})};(0,i.Z)({metricId:n,pwtStaticContext:t,result:e})}}})({name:t,pwtStaticContext:e})}))},g=e=>l[e],d=(e,t)=>{const n=g(e);if(n)try{n.abort(t)}catch(o){(0,_.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},m=(e,t)=>{const n=g(e);n&&(n.annotate(t),(0,s.ZP)(`stopwatch_${e}_${t}`))},h=e=>{const t=g(e);if(t)try{t.stop()}catch(n){(0,_.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},729524:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,o)=>{const r=o?`${e}_${o+1}`:e;n={...n,[r]:t}}))})),n}},497997:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294);const r=(0,o.createContext)();var s=n(785893);function a({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const a=t||null;(0,o.useContext)(r);return(0,s.jsx)(o.Suspense,{fallback:a,children:e})}},683402:(e,t,n)=>{function o(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()}n.d(t,{Z:()=>o})},50286:(e,t,n)=>{n.d(t,{HG:()=>c,Mm:()=>r,Wb:()=>i,ZP:()=>u,ml:()=>a});var o=n(780280);function r(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const s=()=>r((0,o.B)()),a=()=>"phone"===s(),i=()=>"tablet"===s(),c=()=>"desktop"===s(),u=s}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/94451-feebb5fc72af7e99.mjs.map